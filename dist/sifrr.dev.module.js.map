{"version":3,"file":"sifrr.dev.module.js","sources":["../src/eslintrc.js","../src/loaddir.js","../src/deepmerge.js","../src/getrollupconfig.js","../src/generatechangelog.js","../src/exec.js","../src/checktag.js","../src/releasetag.js","../src/gitaddcommitpush.js","../src/sifrr.dev.js"],"sourcesContent":["module.exports = {\n  env: {\n    browser: true,\n    node: true,\n    es6: true,\n    mocha: true\n  },\n  // for tests\n  globals: {\n    ENV: true,\n    chai: false,\n    sinon: false,\n    assert: false,\n    expect: false,\n    should: false,\n    window: false,\n    delay: false,\n    puppeteer: false,\n    server: false,\n    port: false,\n    PATH: false,\n    page: false,\n    browser: false\n  },\n  extends: 'eslint:recommended',\n  parserOptions: {\n    sourceType: 'module',\n    ecmaVersion: 2017,\n    esversion: 2017\n  },\n  rules: {\n    indent: [\n      'error',\n      2\n    ],\n    'linebreak-style': [\n      'error',\n      'unix'\n    ],\n    quotes: [\n      'error',\n      'single',\n      {\n        avoidEscape: true,\n        allowTemplateLiterals: true\n      }\n    ],\n    semi: [\n      'warn',\n      'always'\n    ],\n    'quote-props': [\n      'error',\n      'as-needed'\n    ],\n    'no-var': [\n      'error'\n    ],\n    'max-lines': [\n      'error',\n      220\n    ],\n    'mocha/no-exclusive-tests': 'error'\n  },\n  plugins: [\n    'html',\n    'mocha'\n  ],\n  settings: {\n    'html/indent': '+2'\n  }\n};\n","const fs = require('fs'),\n  path = require('path');\n\nfunction loadDir({\n  dir,\n  onFile = () => {},\n  onDir = () => {},\n  deep = 100\n} = {}) {\n  fs.readdirSync(dir).forEach(file => {\n    const filePath = path.join(dir, file);\n    fs.statSync(filePath).isDirectory()\n      ? (deep > 0 ? (onDir(filePath), loadDir({ dir: filePath, onFile, onDir, deep: deep - 1})) : () => {})\n      : onFile(filePath);\n  });\n}\n\nmodule.exports = loadDir;\n","function type(value) {\n  if (value === null) return 'null';\n  if (typeof value === 'object') {\n    if (Array.isArray(value)) return 'array';\n  }\n  return typeof value;\n}\n\nfunction deepMerge(target, merger, mergeArray = false) {\n  switch (type(target)) {\n  case 'array':\n    return mergeArray ? [...target, ...merger] : [...merger];\n  case 'object':\n    Object.keys(merger).forEach(k => {\n      target[k] = deepMerge(target[k], merger[k], mergeArray);\n    });\n    return target;\n  default:\n    return typeof merger === 'undefined' ? target : merger;\n  }\n}\n\nmodule.exports = deepMerge;\n","const path = require('path');\nconst babel = require('rollup-plugin-babel');\nconst terser = require('rollup-plugin-terser').terser;\nconst resolve = require('rollup-plugin-node-resolve');\nconst commonjs = require('rollup-plugin-commonjs');\nconst cleanup = require('rollup-plugin-cleanup');\n\nconst deepMerge = require('./deepmerge');\n\nfunction moduleConfig({\n  name,\n  inputFile,\n  outputFolder,\n  minify = false,\n  type = 'cjs',\n  outputFileName\n}, extraConfig) {\n  const filename = path.basename(inputFile).slice(0, path.basename(inputFile).lastIndexOf('.')).toLowerCase();\n  const format = type === 'cjs' ? 'cjs' : (type === 'browser' ? 'umd' : 'es');\n  const ret = {\n    input: inputFile,\n    output: {\n      file: path.join(outputFolder, `./${(outputFileName || filename) + (type === 'module' ? '.module' : '') + (minify ? '.min' : '')}.js`),\n      format,\n      name: name,\n      sourcemap: !minify,\n      preferConst: true,\n      exports: 'named'\n    },\n    plugins: [\n      resolve({\n        browser: type === 'browser',\n        mainFields: ['module', 'main']\n      }),\n      commonjs()\n    ]\n  };\n\n  if (type !== 'module') {\n    ret.plugins.push(babel({\n      exclude: 'node_modules/**',\n      rootMode: 'upward'\n    }));\n  }\n\n  ret.plugins.push(cleanup());\n\n  if (minify) {\n    ret.plugins.push(terser({\n      output: {\n        comments: 'all'\n      }\n    }));\n  }\n\n  return deepMerge(ret, extraConfig, true);\n}\n\nmodule.exports = moduleConfig;\n","const fs = require('fs');\nconst path = require('path');\nconst conventionalChangelog = require('conventional-changelog');\nconst rtag = /tag:\\s*[v=]?(.+?)[,)]/gi;\n\nmodule.exports = ({\n  folder = process.cwd(),\n  releaseCount = 0,\n  changelogFile = path.join(folder, './CHANGELOG.md'),\n  outputUnreleased = false,\n  multiRepo = false\n} = {}) => {\n  let oldChangelog = '';\n  const transform = function(cm, cb) {\n    let match = rtag.exec(cm.gitTags);\n    rtag.lastIndex = 0;\n    if (match) cm.version = match[1];\n    cb(null, cm);\n  };\n  const options = {\n    pkg: {\n      path: path.join(folder, './package.json'),\n    },\n    preset: 'angular',\n    releaseCount,\n    outputUnreleased,\n    gitRawCommitsOpts: {\n      path: folder\n    },\n    transform\n  };\n\n  if (fs.existsSync(changelogFile)) {\n    if (releaseCount === 0) fs.writeFileSync(changelogFile, '');\n    oldChangelog = fs.readFileSync(changelogFile, 'utf-8');\n  }\n  if (multiRepo) {\n    options.transform = (cm, cb) => {\n      if (cm.scope && cm.scope === multiRepo) cm.scope = null;\n      else cm.type = 'chore';\n      transform(cm, cb);\n    };\n  }\n  return new Promise((res, rej) => {\n    conventionalChangelog(options)\n      .pipe(fs.createWriteStream(changelogFile))\n      .on('error', rej)\n      .on('finish', () => {\n        fs.appendFileSync(changelogFile, oldChangelog);\n        res(changelogFile);\n      });\n  });\n};\n","const spawn = require('child_process').spawn;\nconst execa = require('child_process').exec;\n\nfunction exec(command, options = {}) {\n  process.stdout.write(`Running command: ${command} \\n`);\n  if (command.indexOf('sh') === 0) {\n    options.stdio = options.stdio || 'inherit';\n    return new Promise((res, rej) => {\n      const [c, ...args] = command.split(' ');\n      const runner = spawn(c, args, options);\n      runner.on('close', (code) => {\n        if (code !== 0) {\n          process.stdout.write(`Command exited with code ${code}: ${command} \\n`);\n          rej(code);\n        } else {\n          process.stdout.write(`Finished command: ${command} \\n`);\n          res();\n        }\n      });\n    });\n  } else {\n    return new Promise((res, rej) => {\n      execa(command, options, (err, stdout, stderr) => {\n        if (stdout) process.stdout.write(`out: ${stdout} \\n`);\n        if (stderr) process.stderr.write(`err: ${stderr} \\n`);\n        if (err !== null) {\n          process.stderr.write(`exec error: ${err}`);\n          rej(err);\n        }\n        res({ stdout, stderr });\n        process.stdout.write(`Finished command: ${command} \\n`);\n      });\n    });\n  }\n}\n\nmodule.exports =  exec;\n","const exec = require('./exec');\nconst path = require('path');\n\nasync function checkTag(version, prefix = 'v') {\n  version = version || require(path.resolve('./package.json')).version;\n  const tag = prefix + version;\n  await exec('git pull');\n  return exec(`git rev-parse ${tag}`).then(() => {\n    process.stdout.write(`Tag ${tag} already exists.`);\n    return true;\n  }).catch(async () => {\n    return false;\n  });\n}\n\nmodule.exports = checkTag;\n","const exec = require('./exec');\nconst path = require('path');\nconst checkTag = require('./checktag');\n\nasync function releaseTag(version, prefix = 'v') {\n  version = version || require(path.resolve('./package.json')).version;\n  const tag = prefix + version;\n  const exists = await checkTag(version, prefix);\n  if (!exists) {\n    await exec(`git tag -a ${tag} -m \"Release of ${tag}\"`);\n    process.stdout.write('\\n');\n    await exec(`git push origin ${tag}`);\n    return true;\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = releaseTag;\n","const exec = require('./exec');\n\nmodule.exports = async function({\n  preCommand = false,\n  files = '*',\n  commitMsg = 'chore: add new files',\n  push = true\n} = {}) {\n  if (preCommand) {\n    if (Array.isArray(preCommand)) {\n      for (let i = 0; i < preCommand.length; i++) {\n        await exec(preCommand[i]);\n      }\n    } else {\n      await exec(preCommand);\n    }\n  }\n  if (Array.isArray(files)) {\n    for (let i = 0; i < files.length; i++) {\n      await exec(`git ls-files '${files[i]}' | xargs git add`);\n    }\n  } else {\n    await exec(`git ls-files '${files}' | xargs git add`);\n  }\n  await exec(`git commit -m \"${commitMsg}\"`).then(() => {\n    if (push) exec(`git push`);\n  }).catch(() => {\n    process.stdout.write('Nothing to commit, not running git push. \\n');\n  });\n};\n","module.exports = {\n  eslintrc: require('./eslintrc'),\n  loadDir: require('./loaddir'),\n  deepMerge: require('./deepmerge'),\n  getRollupConfig: require('./getrollupconfig'),\n  generateChangelog: require('./generatechangelog'),\n  exec: require('./exec'),\n  checkTag: require('./checktag'),\n  releaseTag: require('./releasetag'),\n  gitAddCommitPush: require('./gitaddcommitpush')\n};\n"],"names":["require$$0","resolve","commonjs","babel","cleanup","deepMerge","require","exec","checkTag","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8"],"mappings":"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"}