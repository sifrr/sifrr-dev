{"version":3,"file":"sifrr.dev.js","sources":["../src/eslintrc.js","../src/loaddir.js","../src/deepmerge.js","../src/getrollupconfig.js","../src/generatechangelog.js","../src/exec.js","../src/checktag.js","../src/releasetag.js","../src/gitaddcommitpush.js","../src/sifrr.dev.js"],"sourcesContent":["module.exports = {\n  env: {\n    browser: true,\n    node: true,\n    es6: true,\n    mocha: true\n  },\n  // for tests\n  globals: {\n    ENV: true,\n    chai: false,\n    sinon: false,\n    assert: false,\n    expect: false,\n    should: false,\n    window: false,\n    delay: false,\n    puppeteer: false,\n    server: false,\n    port: false,\n    PATH: false,\n    page: false,\n    browser: false\n  },\n  extends: 'eslint:recommended',\n  parserOptions: {\n    sourceType: 'module',\n    ecmaVersion: 2017,\n    esversion: 2017\n  },\n  rules: {\n    indent: [\n      'error',\n      2\n    ],\n    'linebreak-style': [\n      'error',\n      'unix'\n    ],\n    quotes: [\n      'error',\n      'single',\n      {\n        avoidEscape: true,\n        allowTemplateLiterals: true\n      }\n    ],\n    semi: [\n      'warn',\n      'always'\n    ],\n    'quote-props': [\n      'error',\n      'as-needed'\n    ],\n    'no-var': [\n      'error'\n    ],\n    'max-lines': [\n      'error',\n      220\n    ],\n    'mocha/no-exclusive-tests': 'error'\n  },\n  plugins: [\n    'html',\n    'mocha'\n  ],\n  settings: {\n    'html/indent': '+2'\n  }\n};\n","const fs = require('fs'),\n  path = require('path');\n\nfunction loadDir({\n  dir,\n  onFile = () => {},\n  onDir = () => {},\n  deep = 100\n} = {}) {\n  fs.readdirSync(dir).forEach(file => {\n    const filePath = path.join(dir, file);\n    fs.statSync(filePath).isDirectory()\n      ? (deep > 0 ? (onDir(filePath), loadDir({ dir: filePath, onFile, onDir, deep: deep - 1})) : () => {})\n      : onFile(filePath);\n  });\n}\n\nmodule.exports = loadDir;\n","function type(value) {\n  if (value === null) return 'null';\n  if (typeof value === 'object') {\n    if (Array.isArray(value)) return 'array';\n  }\n  return typeof value;\n}\n\nfunction deepMerge(target, merger, mergeArray = false) {\n  switch (type(target)) {\n  case 'array':\n    return mergeArray ? [...target, ...merger] : [...merger];\n  case 'object':\n    Object.keys(merger).forEach(k => {\n      target[k] = deepMerge(target[k], merger[k], mergeArray);\n    });\n    return target;\n  default:\n    return typeof merger === 'undefined' ? target : merger;\n  }\n}\n\nmodule.exports = deepMerge;\n","const path = require('path');\nconst babel = require('rollup-plugin-babel');\nconst terser = require('rollup-plugin-terser').terser;\nconst resolve = require('rollup-plugin-node-resolve');\nconst commonjs = require('rollup-plugin-commonjs');\nconst cleanup = require('rollup-plugin-cleanup');\n\nconst deepMerge = require('./deepmerge');\n\nfunction moduleConfig({\n  name,\n  inputFile,\n  outputFolder,\n  minify = false,\n  type = 'cjs',\n  outputFileName\n}, extraConfig) {\n  const filename = path.basename(inputFile).slice(0, path.basename(inputFile).lastIndexOf('.')).toLowerCase();\n  const format = type === 'cjs' ? 'cjs' : (type === 'browser' ? 'umd' : 'es');\n  const ret = {\n    input: inputFile,\n    output: {\n      file: path.join(outputFolder, `./${(outputFileName || filename) + (type === 'module' ? '.module' : '') + (minify ? '.min' : '')}.js`),\n      format,\n      name: name,\n      sourcemap: !minify,\n      preferConst: true,\n      exports: 'named'\n    },\n    plugins: [\n      resolve({\n        browser: type === 'browser',\n        mainFields: ['module', 'main']\n      }),\n      commonjs()\n    ]\n  };\n\n  if (type !== 'module') {\n    ret.plugins.push(babel({\n      exclude: 'node_modules/**',\n      rootMode: 'upward'\n    }));\n  }\n\n  ret.plugins.push(cleanup());\n\n  if (minify) {\n    ret.plugins.push(terser({\n      output: {\n        comments: 'all'\n      }\n    }));\n  }\n\n  return deepMerge(ret, extraConfig, true);\n}\n\nmodule.exports = moduleConfig;\n","const fs = require('fs');\nconst path = require('path');\nconst conventionalChangelog = require('conventional-changelog');\nconst rtag = /tag:\\s*[v=]?(.+?)[,)]/gi;\n\nmodule.exports = ({\n  folder = process.cwd(),\n  releaseCount = 0,\n  changelogFile = path.join(folder, './CHANGELOG.md'),\n  outputUnreleased = false,\n  multiRepo = false\n} = {}) => {\n  let oldChangelog = '';\n  const transform = function(cm, cb) {\n    let match = rtag.exec(cm.gitTags);\n    rtag.lastIndex = 0;\n    if (match) cm.version = match[1];\n    cb(null, cm);\n  };\n  const options = {\n    pkg: {\n      path: path.join(folder, './package.json'),\n    },\n    preset: 'angular',\n    releaseCount,\n    outputUnreleased,\n    gitRawCommitsOpts: {\n      path: folder\n    },\n    transform\n  };\n\n  if (fs.existsSync(changelogFile)) {\n    if (releaseCount === 0) fs.writeFileSync(changelogFile, '');\n    oldChangelog = fs.readFileSync(changelogFile, 'utf-8');\n  }\n  if (multiRepo) {\n    options.transform = (cm, cb) => {\n      if (cm.scope && cm.scope === multiRepo) cm.scope = null;\n      else cm.type = 'chore';\n      transform(cm, cb);\n    };\n  }\n  return new Promise((res, rej) => {\n    conventionalChangelog(options)\n      .pipe(fs.createWriteStream(changelogFile))\n      .on('error', rej)\n      .on('finish', () => {\n        fs.appendFileSync(changelogFile, oldChangelog);\n        res(changelogFile);\n      });\n  });\n};\n","const spawn = require('child_process').spawn;\nconst execa = require('child_process').exec;\n\nfunction exec(command, options = {}) {\n  process.stdout.write(`Running command: ${command} \\n`);\n  if (command.indexOf('sh') === 0) {\n    options.stdio = options.stdio || 'inherit';\n    return new Promise((res, rej) => {\n      const [c, ...args] = command.split(' ');\n      const runner = spawn(c, args, options);\n      runner.on('close', (code) => {\n        if (code !== 0) {\n          process.stdout.write(`Command exited with code ${code}: ${command} \\n`);\n          rej(code);\n        } else {\n          process.stdout.write(`Finished command: ${command} \\n`);\n          res();\n        }\n      });\n    });\n  } else {\n    return new Promise((res, rej) => {\n      execa(command, options, (err, stdout, stderr) => {\n        if (stdout) process.stdout.write(`out: ${stdout} \\n`);\n        if (stderr) process.stderr.write(`err: ${stderr} \\n`);\n        if (err !== null) {\n          process.stderr.write(`exec error: ${err}`);\n          rej(err);\n        }\n        res({ stdout, stderr });\n        process.stdout.write(`Finished command: ${command} \\n`);\n      });\n    });\n  }\n}\n\nmodule.exports =  exec;\n","const exec = require('./exec');\nconst path = require('path');\n\nasync function checkTag(version, prefix = 'v') {\n  version = version || require(path.resolve('./package.json')).version;\n  const tag = prefix + version;\n  await exec('git pull');\n  return exec(`git rev-parse ${tag}`).then(() => {\n    process.stdout.write(`Tag ${tag} already exists.`);\n    return true;\n  }).catch(async () => {\n    return false;\n  });\n}\n\nmodule.exports = checkTag;\n","const exec = require('./exec');\nconst path = require('path');\nconst checkTag = require('./checktag');\n\nasync function releaseTag(version, prefix = 'v') {\n  version = version || require(path.resolve('./package.json')).version;\n  const tag = prefix + version;\n  const exists = await checkTag(version, prefix);\n  if (!exists) {\n    await exec(`git tag -a ${tag} -m \"Release of ${tag}\"`);\n    process.stdout.write('\\n');\n    await exec(`git push origin ${tag}`);\n    return true;\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = releaseTag;\n","const exec = require('./exec');\n\nmodule.exports = async function({\n  preCommand = false,\n  files = '*',\n  commitMsg = 'chore: add new files',\n  push = true\n} = {}) {\n  if (preCommand) {\n    if (Array.isArray(preCommand)) {\n      for (let i = 0; i < preCommand.length; i++) {\n        await exec(preCommand[i]);\n      }\n    } else {\n      await exec(preCommand);\n    }\n  }\n  if (Array.isArray(files)) {\n    for (let i = 0; i < files.length; i++) {\n      await exec(`git ls-files '${files[i]}' | xargs git add`);\n    }\n  } else {\n    await exec(`git ls-files '${files}' | xargs git add`);\n  }\n  await exec(`git commit -m \"${commitMsg}\"`).then(() => {\n    if (push) exec(`git push`);\n  }).catch(() => {\n    process.stdout.write('Nothing to commit, not running git push. \\n');\n  });\n};\n","module.exports = {\n  eslintrc: require('./eslintrc'),\n  loadDir: require('./loaddir'),\n  deepMerge: require('./deepmerge'),\n  getRollupConfig: require('./getrollupconfig'),\n  generateChangelog: require('./generatechangelog'),\n  exec: require('./exec'),\n  checkTag: require('./checktag'),\n  releaseTag: require('./releasetag'),\n  gitAddCommitPush: require('./gitaddcommitpush')\n};\n"],"names":["env","browser","node","es6","mocha","globals","ENV","chai","sinon","assert","expect","should","window","delay","puppeteer","server","port","PATH","page","extends","parserOptions","sourceType","ecmaVersion","esversion","rules","indent","quotes","avoidEscape","allowTemplateLiterals","semi","plugins","settings","loadDir","dir","onFile","onDir","deep","fs","readdirSync","forEach","file","filePath","path","join","statSync","isDirectory","type","value","Array","isArray","deepMerge","target","merger","mergeArray","Object","keys","k","terser","require$$0","moduleConfig","name","inputFile","outputFolder","minify","outputFileName","extraConfig","filename","basename","slice","lastIndexOf","toLowerCase","format","ret","input","output","sourcemap","preferConst","exports","resolve","mainFields","commonjs","push","babel","exclude","rootMode","cleanup","comments","rtag","folder","process","cwd","releaseCount","changelogFile","outputUnreleased","multiRepo","oldChangelog","transform","cm","cb","match","exec","gitTags","lastIndex","version","options","pkg","preset","gitRawCommitsOpts","existsSync","writeFileSync","readFileSync","scope","Promise","res","rej","conventionalChangelog","pipe","createWriteStream","on","appendFileSync","spawn","execa","command","stdout","write","indexOf","stdio","c","args","split","runner","code","err","stderr","checkTag","prefix","require","tag","then","catch","releaseTag","exists","preCommand","files","commitMsg","i","length","eslintrc","require$$1","require$$2","getRollupConfig","require$$3","generateChangelog","require$$4","require$$5","require$$6","require$$7","gitAddCommitPush","require$$8"],"mappings":"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"}